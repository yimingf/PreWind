(function () {
  function clicked (d) {
    var x, y, k;
    if (d && centered !== d) {
      let foo = 0;

      farm_data.objects.forEach(function (_) {
        if (_.country == d.properties.name) {
          console.log('name: ' + _.name + 
            ' owner: ' + _.owner + '\n'); // render on the right
        }
      });
      var mouse = d3.mouse(svg.node()).map(function (d) {
        return parseInt(d);
      });

      x = mouse[0];
      y = mouse[1];
      k = 4;
      centered = d;
    } else {
      x = width / 2;
      y = height / 2;
      k = 1;
      centered = null;
    }
    g.selectAll('path')
      .classed('active', centered && function(d) {
        return d === centered;
    });
    g.transition()
      .duration(750)
      .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')scale(' + k + ')translate(' + -x + ',' + -y + ')')
      .style('stroke-width', 1.5 / k + 'px');
  }

  var wind_data = {'type':'wind_data','objects':[{'header':{'discipline':0},'data':[-4.62,-3.89,-3.2,-2.56,-1.63,-0.25,0.77,0.69,0.08,0.1,0.69,1.07,1.05,1.01,1.16,1.41,1.7,2.03,2.25,2.11,1.54,0.68,-0.21,-0.82,-0.61,0.08,0.2,0.46,1.65,3.44,4.16,4.5,5.44,7,8.48,9.32,9.37,8.51,6.81,4.88,3.43,2.61,2.44,2.87,3.77,4.81,5.1,4.54,4.42,6.03,7.63,5.43,-0.75,-5.63,-6.13,-14.38,-13.13,-11.8,-11.18,-10.22,-7.03,-3.08,-0.32,-1.16,-5.5,-4.29,-1.93,-4.94,-5.67,-2.39,-1.89,-6.53,-10.57,-11.15,-10.1,-9.66,-9.57,-9.23,-8.73,-8.33,-7.98,-7.15,-5.61,-5.06,-6.01,-6.41,-6.03,-5.74,-5.62,-5.46,-5.14,-0.06,0.67,1.04,-0.01,-1.83,-2.68,-2.42,-1.91,-1.31,-0.57,0.02,0.16,0.07,0.19,0.57,0.82,0.54,-0.25,-0.71,0.2,1.28,0.74,-0.15,-0.59,-0.02,1.18,2.35,3.22,2.76,4.44,7.98,9.88,10.3,10.84,11.02,10.97,11.25,11.56,11.72,11.84,11.85,11.62,11.27,10.49,8.65,6.35,5.43,5.73,5.6,4.19,3.76,4.93,4.85,0.9,-3.32,-14.48,-14.8,-14.23,-12.61,-8.96,-3.93,-0.64,1.34,2.39,-0.17,-3.26,-1.17,2.12,-0.64,-8.04,-13.59,-14.5,-13.22,-12.43,-11.99,-11.44,-10.72,-9.89,-9.06,-8.28,-7.49,-6.7,-5.95,-5.21,-4.41,-3.47,-2.46,-1.47,-0.69,-0.29,-0.24,-0.17,0.43,-0.33,-2.77,-4.95,-5.37,-4.78,-4.14,-3.53,-2.72,-1.99,-1.76,-1.73,-1.61,-1.58,-1.33,-1.26,-2.01,-1.99,-2.38,-1.76,0.31,1.71,2.03,3.28,3.76,3.27,4.27,4.49,2.38,1.64,2.56,2.74,2.13,3.36,6.44,8.24,10.32,10.85,10.64,10.53,10.57,9.95,8.38,6.85,6.19,6.19,6.22,5.24,4.59,4.62,5.22,6.46,4.73,-0.55,-13.18,-12.67,-12.44,-13.13,-14.14,-9.52,-6.76,-8.35,-8.6,-6.87,-3.15,-2.99,-7.43,-11.69,-15.13,-16.33,-15.7,-14.84,-14.2,-13.54,-12.85,-12.13,-11.31,-10.39,-9.43,-8.46,-7.53,-6.67,-5.93,-5.2,-4.35,-3.43,-2.54,-1.68,-1.08,-0.73,-1.17,-0.93,-2.28,-4.96,-6.21,-5.68,-5.28,-5.56,-5.43,-4.52,-3.59,-3.47,-4.15,-4.69,-4.29,-3.48,-2.96,-3.29,-1.41,1.31,0.93,0.03,0.6,0.78,0.82,1.1,1.43,1.75,2.11,2.18,1.3,0.66,1.84,2.17,2.32,2.65,2.46,3.67,5.39,6.2,7.52,8.88,8.04,5.69,3.63,3.06,3.91,5.03,5.58,5.97,4.98,4.5,5.31,5.36,2.16,-9.48,-6.08,-3.83,-2.49,-3.88,-7.2,-8.98,-10.89,-11.65,-10.51,-8.22,-7.07,-8.41,-10.99,-13.09,-14.77,-15.41,-15.17,-15.02,-14.67,-13.89,-13.16,-12.52,-11.77,-10.87,-9.88,-8.84,-7.85,-6.99,-6.15,-5.16,-3.96,-2.56,-1.15,-0.44,-0.88,-0.7,-1.87,-2.21,-2.6,-2.49,-1.94,-2.76,-4.29,-4.58,-3.92,-3.4,-2.99,-3.76,-5.78,-5.06,-3.89,-4.14,-1.39,1.59,1.49,0.64,1.21,1.06,0.54,0.51,0.19,0.02,0.44,0.52,1.06,1.69,1.85,2.48,3.48,3.32,2.62,2.54,3.09,3.71,3.93,4.47,5.96,6.18,5.54,5.1,3.54,3.48,3.05,2.29,3.15,3.59,3.31,3.7,3.53,1.81,-10.69,-9.07,-4.68,-2.13,-1.62,1.06,3.29,3.65,3.65,3.4,3.19,3.14,2.61,0.64,-3.65,-10.3,-14.88,-16.05,-16.55,-16.52,-15.44,-14.29,-13.51,-12.75,-11.91,-11.26,-10.6,-9.84,-9.09,-8.39,-7.57,-6.44,-4.98,-3.31,-1.36,-0.04,-2.3,-4,-4.9,-3.81,-1.88,-0.83,-1.79,-3.68,-4.74,-4.62,-4.28,-5.19,-6.59,-5.29,-4.45,-3.76,-2.25,-1.12,-0.65,0.32,0.53,0.29,0.75,0.81,-0.55,-1.42,-0.77,0.12,1.21,2.07,2.57,2.99,3.24,3.5,4.86,9.11,10.06,9.57,8.06,7.24,7.5,6.18,4.55,3.87,3.68,2.98,2.54,2.28,2.25,2.52,2.92,3.32,3.22,2.49,1.01,0.62,1.07,1.63,3.17,3.65,3.36,2.73,2.93,3.68,4.36,4.38,4.25,3.84,2.21,2.57,3.64,0.53,-1.8,-6.66,-12.35,-13.19,-12.36,-12.94,-12.68,-11.88,-11.85,-11.93,-11.43,-10.64,-9.92,-9.37,-8.84,-8.08,-6.91,-5.13,-2.92,-0.79,1.8,2.7,2.11,0.84,-0.52,-1.88,-3.36,-4.53,-5.44,-7.47,-8.57,-5.38,-3.56,-3.37,-2.86,-2.42,-2.14,-2.06,-1.86,-0.86,0.38,1.84,2.41,0.82,-0.91,-0.84,-0.31,0.33,1.46,2.33,2.53,2.82,3.17,3.78,6.65,7.68,6.73,8.43,8.82,5.84,3.88,4.11,3.71,2.99,3.03,2.95,2.98,2.87,2.59,3.11,3.26,3.01,2.47,0.79,-1.32,-0.03,0.72,0.39,-0.34,-0.55,-0.51,-0.75,-0.93,-0.69,-0.26,0.44,1.04,0.99,1.09,0.57,-1.55,-1.4,-0.67,-6.3,-11.44,-10.14,-9.85,-11.37,-10.95,-10.25,-10.52,-11.21,-11.38,-10.82,-10.25,-9.87,-9.47,-8.41,-6.71,-4.11,-5.11,-2.82,-1.42,-0.69,-0.35,-0.85,-1.83,-2.05,-2.19,-4.28,-5.17,-4.01,-3.84,-4.13,-4.04,-3.55,-3.31,-2.68,-2.42,-2.72,-2.47,-1.86,-0.99,-0.76,-1.21,-1.13,-0.77,-0.53,-0.2,0.39,1.28,2.67,2.75,2.6,2.76,2.96,3.86,5.35,4.06,3.86,3.88,3.22,2.91,3.35,3.45,3.08,3.43,3.32,2.94,2.87,3.07,3.03,2.43,2.14,0.83,0.62,0.18,-0.6,-1.89,-3.76,-4.94,-5.02,-5.01,-5.26,-5.28,-4.85,-4.16,-3.37,-2.17,-0.93,-0.43,-0.42,-1.69,-1.24,-2.41,-7.24,-12.77,-15.29,-13.67,-11.98,-10.89,-9.38,-8.25,-8.37,-8.47,-8.23,-7.83,-7.65,-8.08,-8.37,-7.36,-5.63,-4.31,-2.95,-2.28,-1.55,-1.58,-2.26,-2.35,-2.26,-1.5,-1.65,-3.17,-2.66,-1.95,-2.56,-3.07,-2.99,-2.79,-2.68,-4.8,-5.8,-4.58,-2.49,-1.76,-1.75,-1.29,-1.12,-0.86,-0.75,-0.2,0.04,0.77,1.72,2.2,2.18,1.97,2.55,3.62,4.09,3.64,3.36,3.57,2.93,2.66,3.28,3.55,3.3,3.17,3.1,3.07,3,3.02,3.09,2.94,2.46,-0.1,-1.21,-2.22,-3.35,-5.05,-6.3,-6.44,-6.59,-7.24,-7.58,-7.5,-7.31,-6.94,-6.31,-5.55,-4.3,-2.46,-0.27,2.02,4.04,5.25,0.67,-9.09,-14.27,-13.49,-11.35,-9.99,-8.58,-6.86,-5.84,-5.4,-5.3,-4.55,-3.09,-2.84,-4.58,-5.66,-5.21,-3.73,-3.21,-3.11,-2.65,-2.39,-3.17,-2.89,-1.82,-1.09,-1.87,-2.25,-1.97,-2.24,-2.82,-2.73,-2.82,-5.11,-5.91,-6.94,-7.05,-3.91,-2.51,-2.16,-1.86,-1.81,-1.47,-0.88,-0.37,-0.06,0.56,0.94,1.31,1.76,2.24,1.74,2.59,3.13,3.03,3.04,3.36,3.74,2.7,3.24,3,2.77,3.04,3.12,2.68,2.93,3.64,3.57,2.77,2.3,-2.07,-2.99,-3.55,-4.63,-6.98,-8.84,-9.57,-10.05,-10.18,-10.28,-10.22,-10.02,-9.78,-9.57,-9.33,-8.88,-8.04,-6.61,-4.74,-3.34,-1.95,0.26,-1.31,-7.01,-11.41,-12.8,-11.05,-9.02,-7.95,-6.81,-6.27,-5.72,-5.32,-4.87,-4.04,-4.37,-5.53,-6.35,-6.12,-4.96,-4.35,-3.55,-3.19,-2.99,-2.85,-1.15,-1.37,-1.87,-1.88,-2,-2.48,-2.46,-2.73,-2.87,-4.92,-5.47,-5.81,-6.93,-4.58,-3.7,-2.78,-2.33,-2.14,-1.81,-1.32,-0.84,0.93,2.98,1.8,0.07,1.42,2.22,2.1,2.12,2.98,2.45,2.82,3.15,3.22,2.74,3.06,2.77,2.79,2.47,2.7,2.8,3.32,3.27,3.07,2.67,2.45,-0.59,-1.63,-2.15,-3.13,-5.96,-8.95,-11.06,-12.1,-12.41,-12.92,-13.43,-13.81,-14.23,-14.21,-13.72,-13.03,-12.3,-11.43,-9.95,-8.7,-8.37,-6.95,-3.9,-1.46,-3.25,-7.44,-9.56,-8.66,-7.08,-6.2,-6.28,-6.13,-5.34,-5.59,-6.13,-5.57,-6.43,-7.51,-9.21,-9.16,-7.18,-4.09,-3.68,-3.67,-1.84,-1.09,-0.59,-1.62,-3,-3.03,-3.45,-3.67,-3.56,-2.8,-2.28,-4.37,-4.73,-4.98,-6.55,-6.35,-3.94,-2.44,-2.11,-2.28,-1.68,-1.26,-0.68,0.07,0.27,0.27,0.85,2.28,2.85,2.58,2.74,2.41,2.6,2.85,2.9,2.78,2.65,2.83,2.57,2.47,2.47,2.74,2.94,2.48,2.39,2.36,2.26,4.47,2.04,0.38,-0.84,-3.43,-7.27,-11.32,-13.52,-14.79,-16.11,-17.24,-18.37,-19.04,-18.94,-18.02,-16.4,-14.51,-12.9,-11.41,-9.22,-6.47,-4.42,-3.52,-1.88,-1.04,-4.55,-7.32,-6.7,-6.03,-5.12,-4.76,-5.11,-4.65,-5.2,-6.99,-6.97,-8.29,-8.36,-9.12,-11.08,-12.38,-9.83,-6.62,-3.99,-1.69,-2.39,-4.55,-3.92,-2.26,-3.77,-4.31,-3.38,-3.63,-3.55,-3.53,-4.02,-3.94,-3.93,-4.38,-5.65,-4.52,-3.56,-2.9,-2.26,-2.1,-1.96,-1.29,-0.54,-0.11,0.35,1.4,2.24,2.48,2.79,2.68,2.76,2.81,2.61,2.48,2.82,2.45,2.44,2.34,2.05,2.24,2.24,2.27,2.02,2.24,2.25,2.33,8.13,6.67,4.93,3.28,0.65,-4.5,-9.75,-12.56,-14.21,-17.9,-21.41,-23.27,-23.84,-23.23,-22.31,-21.25,-19.06,-15.83,-12.8,-10.14,-7.44,-5.02,-3.36,-1.89,-0.2,-2.12,-6.26,-6.23,-5.41,-4.95,-4.57,-5.18,-4.86,-4.83,-6.31,-7.75,-7.43,-8.54,-9.11,-9.32,-9.92,-11.73,-12.65,-9.66,-8.05,-9,-8.26,-7.29,-3.64,-2.86,-2.48,-2.57,-2.54,-4.75,-5.52,-5.61,-5.83,-5.43,-4.19,-4.25,-5.7,-3.79,-3.01,-2.68,-3.27,-1.94,-1.57,-0.98,-0.81,0.17,1.38,1.65,2.28,2.49,3.03,3.06,3.44,2.81,2.9,2.68,2.35,2.54,2.36,2.21,2.16,1.97,2.13,1.74,1.99,2.08,2.18,10.12,11.01,10.98,8.4,5.11,-0.38,-3.39,-1.97,-8.07,-14.15,-11.88,-11.44,-13.41,-16,-19.69,-21.15,-19.73,-17.89,-16.24,-13.65,-10.01,-6.57,-4.28,-2.68,-0.43,-0.31,-5.01,-6.46,-5.39,-5.03,-4.97,-4.13,-3.27,-5.67,-5.78,-6.21,-7.71,-8.45,-9.11,-9.81,-9.98,-10.03,-9.93,-9.21,-8.19,-6.32,-4.27,-8.5,-7.25,-4.32,-3.42,-3.19,-2.67,-5.17,-6.96,-7.17,-7,-6.44,-4.07,-4.21,-4.94,-4.69,-3.73,-3.25,-2.43,-2.47,-1.65,-1.52,-0.89,0.19,1.32,1.87,2.21,2.88,2.77,3.49,3.25,3.72,3.32,3,2.82,2.53,2.04,2.1,2.05,1.87,1.56,1.42,1.58,1.82,1.81,12.58,13.24,15.06,15.33,13.6,12.91,7.99,10.79,15.49,8.94,3.52,2,0.18,1.2,3.66,2.5,-5.11,-12.92,-14.67,-13.72,-12.68,-9.82,-6.39,-4.62,-2.25,0.45,-2.34,-6.05,-5.79,-7.29,-6.25,-2.93,-3.26,-2.99,-5.1,-7.56,-8.1,-9.48,-10.14,-10.27,-10.08,-9.7,-9.59,-9.35,-7.68,-4.7,-5.44,-7.76,-6.98,-4.71,-3.98,-6.48,-6.52,-6.27,-7.26,-8.06,-8.27,-7.79,-4.24,-4.45,-4.23,-4.04,-4.04,-4.69,-3.89,-3.34,-2.51,-2.46,-1.43,-0.49,0.81,1.2,1.85,2.62,2.9,2.7,2.68,2.8,2.98,2.92,3.36,3.18,2.5,2.53,2.48,1.9,1.67,1.76,1.83,2.09,2.22,13.99,14.22,14.42,16.82,18.33,18.93,21.59,21.36,22.45,25.96,25.75,22.94,18.84,14.58,11.13,9.19,9.75,8.73,-0.56,-10.01,-11.52,-10.27,-8.63,-6.01,-3.52,-0.35,-0.88,-4.18,-5.17,-5.9,-6.46,-4.7,-3.14,-3.22,-4.76,-6.42,-5.98,-6.51,-7.97,-8.88,-9.07,-8.69,-8.6,-8.81,-9.34,-5.95,-7.35,-7.3,-6.25,-9.6,-8.74,-8.14,-7.49,-6.47,-6.79,-7.68,-7.88,-6.87,-4.87,-5.51,-4.91,-4.89,-4.4,-3.77,-3.93,-3.34,-3.07,-2.78,-2.28,-1.25,-0.42,0.23,0.98,1.73,2.47,2.58,2.43,2.34,2.42,2.65,2.99,3.17,3.24,3.25,3.27,2.88,2.38,2.23,2.4,3.46,3.41,15.46,16.81,17.41,17.06,18.01,19.76,21.13,23.31,25.61,26.3,25.47,24.46,23.33,21.02,18.26,16.06,14.85,13.56,13.1,8.27,-2.1,-8.54,-8.05,-6.27,-3.55,-0.49,-0.29,-3.8,-3.93,-3.43,-3.39,-4.67,-3.76,-3.03,-2.95,-5.31,-5.36,-6.12,-6.54,-6.55,-6.54,-6.64,-7.51,-8.24,-8.78,-6.9,-6.1,-6.67,-6.46,-5.73,-7.6,-5.46,-4.45,-5.55,-6.31,-3.61,-4.66,-5.04,-5.31,-4.81,-4.72,-5.2,-4.83,-4.6,-3.83,-3.64,-3.17,-3.01,-2.47,-2.04,-1.53,-0.88,-0.33,0.58,1.74,2.3,2.29,2.2,2.25,2.55,3.2,3.35,3.01,4.23,3.86,3.81,3.49,2.71,2.32,2.62,2.89,16.37,16.94,18.46,20.08,20.54,20.44,20.9,21.96,22.97,23.97,24.41,24.28,23.85,22.72,21.27,19.73,18.32,17.67,16.84,15.1,12.71,3.7,-4.01,-4.95,-3.37,-0.03,-0.02,-2.88,-3.37,-3.87,-2.11,-1.39,-3.42,-3.33,-2.84,-3.11,-2.62,-3.28,-3.49,-3.89,-4.21,-4.04,-3.16,-3.63,-4.42,-5.63,-6.53,-5.9,-5.79,-5.79,-5.55,-6.01,-6.31,-6.6,-7.01,-7.17,-7.45,-5.76,-5.4,-4.97,-4.84,-4.83,-5.01,-4.75,-4.37,-4.04,-3.73,-3.56,-3.28,-3,-2.41,-2.02,-1.46,-1.12,-0.08,0.69,1.33,1.65,1.82,2.25,2.61,2.63,3.37,3.61,2.85,2.94,3.35,2.98,2.42,1.77,1.68,17.38,16.25,15.29,15.64,16.58,17.6,18.37,19.52,21.05,21.94,22.12,22.33,22.52,22.39,21.77,20.97,20.32,19.71,18.75,17.69,14.64,9.87,3.4,-0.05,-2.24,-0.62,1.11,-0.72,-2.2,-3.73,-1.79,-1.62,-0.77,-0.16,-0.73,-1.87,-0.04,-0.6,-0.87,-0.55,-1.2,-1.51,-1.75,-1.15,-1.56,-2.13,-1.9,-2.42,-3.82,-4.87,-5.94,-6.22,-5.17,-5.39,-6.11,-7.12,-7.54,-6.81,-6.62,-6.31,-5.53,-5.26,-5.06,-4.71,-4.54,-4.41,-3.91,-4.17,-4.4,-3.89,-3.42,-2.84,-2.76,-2,-1.84,-0.9,-0.47,0.32,0.89,1.27,1.75,2.03,2.31,1.79,2.49,2.69,2.2,1.56,0.34,-0.01,-0.39,18.38,16.76,13.42,12.71,13.41,13.71,14.58,15.9,17.87,19.81,21.45,22.29,22.31,22.38,22.27,21.75,21.18,20.44,18.71,15.57,11.85,10.47,6.14,4.01,0.66,-0.98,-0.35,-0.28,1.08,-0.46,-1.18,-1.86,-1.4,0.43,0.72,0.63,-0.31,-0.82,-1.31,-1,0,1.1,0.35,-0.32,-0.45,-0.72,-1.22,-0.8,-0.08,-0.86,-1.93,-2.73,-3,-4.61,-5.23,-5.94,-8.28,-5.87,-5.58,-5.61,-5.57,-5.77,-5.81,-5.21,-4.6,-4.55,-4.37,-4.45,-4.99,-4.24,-3.52,-3.3,-3.37,-3.35,-2.86,-2.4,-1.82,-1.44,-0.43,0.05,0.6,0.85,2.22,1.59,1.39,0.29,-0.59,-0.74,-0.78,-0.4,-0.49,21.16,22.29,21.86,19.03,17.57,17.25,17.27,17.71,18.55,19.19,19.86,20.43,20.94,21.32,21.18,21.18,20.51,18.59,16.41,14.05,12.43,11.71,7.77,5.4,3.29,0.26,1.68,4.14,3.75,0.53,-0.33,-1.3,-1.62,-1.54,-1.3,-0.92,-0.15,-1.72,-1.2,-1.12,-1.24,-0.29,0.44,0.23,-0.61,-1.72,-1.3,-1.52,-2.04,-2.37,-2.82,-3.09,-6.96,-2.83,-0.19,-3.75,-4.54,-4.84,-4.34,-6.73,-5.94,-6.18,-6.17,-4.66,-4.13,-3.92,-4.45,-5.16,-5.06,-4.9,-4.91,-4.51,-4.54,-5.05,-4.69,-4.3,-3.36,-2.92,-2.17,-1.45,-0.76,-0.16,-0.54,-0.74,-0.81,-0.88,-0.95,-0.87,-0.75,-0.92,-1.43,19.56,20.84,21.93,22.71,22.63,21.92,21.48,20.87,20.01,19.87,20.04,19.79,20.03,20.03,20.09,18.8,16.44,15.78,14.98,13.89,12.24,12.44,10.46,5.57,4.73,2.25,2.72,4.47,5.22,2.11,-0.04,-1.13,-2.3,-1.61,0.34,1.42,0.31,0.19,-0.07,0.1,-0.27,-1.89,-0.86,-1.26,-0.58,-0.43,-0.9,-1.12,-1.38,-2.39,-2.2,-7.48,-6.87,-4.55,-2.93,-3.11,-1.27,-0.37,-0.97,-1.78,-3.58,-8.18,-6.54,-5.63,-4.47,-4.47,-5.13,-5.99,-6.12,-6.87,-5.46,-5.87,-6.64,-6.08,-5.92,-5.17,-5.18,-4.67,-4.19,-3.59,-2.75,-2.11,-1.99,-1.82,-1.61,-1.54,-1.5,-1.43,-1.53,-1.76,-2.26,21.49,21.3,21.51,22.07,22.46,22.35,22.04,21.38,21.1,20.68,20.1,20.01,19.96,19.87,17.42,15.5,14.75,13.9,13.59,13.02,12.49,11.99,10.61,7.05,6.49,4.47,4.16,5.48,6.11,4.02,0.49,-0.51,-0.04,1.37,1.18,0.24,-0.92,-0.24,0.32,0.2,0.33,-0.47,-0.9,-0.23,0.18,1.08,0.76,1.02,-0.41,-1.8,-2.5,-2.29,-2.91,-5.62,-5.5,-4.27,-2.69,-2.18,-4.09,-3.54,-3.57,-1.82,-3.94,-4.89,-4.14,-4.3,-4.45,-6.21,-7.15,-6.41,-6.35,-6.21,-6.93,-7.45,-7.52,-6.59,-6.48,-5.66,-5.69,-6.36,-4.64,-2.9,-2.93,-2.91,-2.52,-2.72,-2.58,-2.77,-2.45,-2.72,-3.41,22.18,22.37,22.42,22.35,21.94,21.54,21.18,20.68,20.39,20.41,20.84,19.87,17.4,14.78,13.65,13.52,13.34,13.29,13.14,12.83,12.7,11.85,10.23,8.18,6.73,5.66,5.56,6.27,6.57,6.01,3.04,-1.48,-2.01,-0.83,0.2,0.04,0.47,-0.21,0.17,0.45,0.25,-0.15,-1.19,-0.4,-0.32,-0.34,-1.26,-0.88,-1.28,-2.14,-1.85,-1.2,-2.03,-2.97,-5.25,-5.82,-4.46,-0.46,-0.42,-3.56,-2.6,-4.46,-0.85,-2.22,-1.86,-1.84,-4.59,-6.14,-5.57,-6.57,-7.05,-6.11,-8.42,-11.22,-13.72,-12.53,-8.81,-7.36,-6.92,-6.76,-5.63,-3.56,-3.84,-3.72,-3.33,-3.43,-3.44,-4.05,-3.66,-3.41,-3.43,21.03,21.26,21.35,21.14,20.93,20.61,20.14,19.99,20.08,20.26,18.52,15.05,13.83,13.15,12.85,12.76,12.86,13.17,12.94,12.64,12.15,11.23,10.29,9.39,6.28,5.67,6.04,6.36,7.11,7.14,6.11,3.25,-0.75,-1.62,-1.49,0.24,-0.97,-0.95,-0.37,0.57,0.3,-0.09,-1.05,-2.21,-1.14,0.21,-1.71,-2.09,-1.21,-3.32,-3.01,-2.07,-2.19,-4,-4.75,-5.33,-5.13,-3.81,-3.83,-2.76,-0.98,-2.96,-3.75,0,-2,-3.42,-4.22,-9.8,-9.06,-8.06,-10.13,-15.95,-17.72,-18.34,-14.07,-9.78,-10.97,-11.16,-8.88,-7.49,-7.28,-4.79,-4.48,-4.56,-3.45,-3.98,-5.19,-5.34,-5.33,-4.35,-3.5,19.55,19.79,19.77,19.66,19.36,19.16,19.16,19.18,18.98,16.91,13.58,12.71,12.27,12.52,12.83,12.84,12.66,12.34,11.79,11.46,11.21,11.13,10.53,10.07,6.52,5.63,5.96,6.26,7.02,7.61,7.49,7.34,3.07,-1.46,-1.81,-2.43,-0.63,-1.33,-1.12,-0.36,0.86,-0.16,-2.6,-0.51,2.73,1.56,2.43,-1.42,-1.67,-8.94,-9.6,-3.86,-2.14,-2.54,-2.35,-4.56,-7.75,-4.92,-5.89,-1.24,-0.65,-2.05,-2.74,-2.98,-2.17,-1.17,-7.65,-9.15,-11.16,-8.76,-4.58,-5.14,-10.83,-12.73,-8.16,-8.77,-11.36,-11.92,-11.06,-7.96,-6.2,-4.85,-5.19,-4.25,-5.85,-7.07,-8.25,-7.42,-5.12,-3.84,-3.4,17.86,18.07,17.98,18.1,18.53,18.38,17.78,16.83,14.02,12.16,11.99,12.77,13.4,13.27,12.76,12.4,11.99,11.61,11.07,10.95,11.71,11.99,10.62,10.2,7.33,6.19,6.03,6.6,6.64,7.38,8.33,8.57,9.61,3.64,0.48,-0.13,1.02,0.82,-0.81,1.67,2.51,0.08,-0.71,-2.11,1.35,-0.41,-3.89,-1.39,0.68,-6.82,-10.8,-10.15,-4.41,-2.41,-0.72,-0.33,-2.71,-4.39,-4.83,-3.75,-5.47,-5.62,-4.8,-2.81,0.37,-3.89,-7.76,-6.56,-5.6,-3.87,-5.61,-3.39,-0.17,-1.92,-4.52,-2.43,1.77,-0.08,-2.52,-5.32,-4.35,-5.99,-4.93,-5.1,-7.62,-7.96,-9.34,-6.9,-5.5,-2.27,-5.46,15.95,16.3,17.12,17.61,17.3,16.34,14.39,12.06,12.52,13.75,13.82,13.45,13.05,12.57,12.22,12.03,11.8,11.32,11.05,11.62,12.63,12.13,10.79,10.63,8.39,7.03,6.64,7.18,7.6,7.74,9.39,9.94,10.91,10.77,6.83,0.25,0.68,0.56,2,5.22,6.48,4.7,4.53,-7.92,-6.33,2.3,-0.97,-0.32,-1.78,-1.12,-6.13,-7.65,-7.83,-10.04,-3.62,-1.61,-1.6,-1.88,-2.53,-2.62,-1.79,-0.4,-2.15,-0.82,-0.83,-4.08,-4.18,-1.35,0.83,-0.12,-4.82,-0.96,3.83,6.91,7.63,7.83,4.06,-1.67,1.07,2.7,-0.53,-2.67,-2.61,-2.11,-3.25,-6.07,-6.52,-7.16,-7.08,-7.5,-3.41,14.78,15.55,15.73,15.05,13.3,11.89,13.11,14.53,13.82,13.13,13.05,12.95,12.6,12.15,12.03,11.98,12.58,12.12,12.34,12.49,12.41,11.74,10.5,9.95,8.83,7.42,6.72,3.33,3.04,2,1.42,1.4,0.91,2.64,3.54,0.59,-0.08,1.26,1.49,1.49,4.71,7.7,9.56,11.95,6.38,3.02,5.48,6.24,-0.53,-4.25,1.13,-2.14,-5.36,-7.1,-11,-5.73,-3.36,-1.48,-2.31,-2.38,-0.98,-2.06,-2.64,-4.88,-4.06,-5.48,-4.47,-2.28,0.69,4.97,7.45,7.38,8.6,9.65,8.15,6.51,7.44,8.3,5.58,1.11,-0.28,-1.6,-0.49,0.68,0.62,-2.14,-3.69,-4.96,-7.74,-6.34,-7.62,13.31,12.67,10.51,10.54,13.02,14.35,13.74,13.19,13.03,12.65,12.37,12.15,11.8,11.69,11.7,11.3,12.01,11.65,11.78,11.97,11.38,10.48,9.65,8.56,8.58,7.87,5.81,2.69,2.24,2.77,3.54,5.18,3.98,2.79,3.28,0.72,4.45,3.15,3.73,-1.26,-1.4,3.74,6.38,8.08,7.46,6.14,6.52,4.1,1.68,-10.49,-5.48,-1.96,-3.62,-4.6,-8.34,-7.3,-4.18,-2.18,-1.97,-1.73,-1.14,-4.83,-4.87,-5.51,-10.03,-8.55,-4.07,-2.4,-0.47,1.21,1.59,0.13,-0.95,0.21,0.44,1.94,1.34,1.45,-0.44,2.31,-0.95,-0.84,-3.86,-3.57,0.18,2.5,1.57,-3.48,-6.97,-5.84,-6.09,7.07,9.62,13.17,13.7,13,12.9,12.92,12.6,12.25,12.01,11.76,11.29,10.9,10.93,10.87,10.86,10.45,11.52,11.07,10.64,10.06,9.22,8.27,7.95,7.94,7.95,6.48,1.35,1.97,2.91,6.29,7.41,6.05,2.16,3.5,4.99,2.32,2.92,6.14,3.43,-0.51,-0.09,3.29,3.97,1.85,1.98,2,3.19,2.02,-8.34,-10.93,-9.68,-3.72,-6.11,-7.82,-8.98,-3.47,-3.11,-2.48,-8.77,-11.35,-12.66,-9.88,-4.19,-1.51,-3.41,-2.02,-0.53,0.15,0.54,-0.09,1.35,1.01,0.94,1.04,0.37,0.28,-0.46,0.67,1.83,2.95,-0.55,1.36,-3.67,-2.33,-6.4,-3.88,-3.36,-5.41,-6.58,-7.63,12.79,12.66,12.26,12.4,12.19,11.99,11.53,11.11,11.22,11.5,11.11,10.47,10.42,10.34,10.31,10.27,9.91,9.74,9.51,9.26,8.54,7.77,7.42,7.82,8.23,8.05,8.57,3.36,1.73,2.12,1.63,2.17,5.25,4.47,3.43,2.78,7.18,5.74,5.25,6.29,7.62,5.5,3.35,1.58,1.09,1.76,3.1,3.29,2.81,-5.86,-9.62,-11.25,-9.32,-5.67,-9.86,-9.92,-7.74,-4.3,-2.29,-3.69,-5.61,-6.11,-5.68,-6.66,-2.26,-3.25,-2.64,-1.55,-0.61,0.31,0.36,0.3,1.37,2.22,2.26,1.7,0.42,-1.33,-0.79,-0.95,0.7,-0.1,-2.95,-0.44,-6.18,-6.83,-6.74,-4.33,-4.5,-4.96,-5.94,11.2,11.31,11.23,11.11,10.98,10.55,10,9.82,8.76,8.22,8.7,9.76,10.42,10.28,10.2,9.62,8.84,8.27,8.34,7.38,6.72,6.81,7.37,8.12,8.66,8.84,9.17,5.48,3.59,4.02,3.6,2.57,3.3,4.32,5.73,4.78,5.87,3.8,3.6,4.8,4.53,3.36,1.57,-0.35,1.46,1.82,1.99,1.87,-7.24,-3.48,-2.75,-5.1,-6.05,-9.77,-10.41,-10.04,-9.47,-4.7,-4.11,-0.47,-2.97,-5.15,-4.7,-2.7,-2.96,-2.51,-2.56,-2.65,-1.49,-0.76,-1.03,0.45,-0.05,-0.35,1.2,0.74,1.71,0.79,-1.54,-2.91,1.51,2.79,-2.91,-2.02,-4.07,-5.62,-6.5,-4.84,-3.91,-5.17,-4.58,10.28,10.52,10.46,9.88,9.52,9.15,9.11,8.87,9.03,8.33,8.34,8.55,8.91,9.15,9.37,8.91,7.87,7.13,6.61,6.06,6.21,6.77,7.39,8.05,8.92,9.03,9.26,9.01,3.49,2.4,2.54,2.19,2.25,1.54,5.13,2.82,7.13,6.81,5.72,4.26,4.48,3.03,3.93,3.16,3.21,2.62,1.58,4.74,-7.47,-12.92,-12.04,-6.91,-11.39,-11.22,-11.45,-10.73,-11.58,-9.95,-5.23,-1.73,-5.3,-3.58,-3.43,-3.33,-2.37,-1.94,0.78,-0.6,-3.26,0.2,0.83,0.4,-2.76,-0.62,0.79,0.59,0.92,1.39,1.65,-0.93,-1.66,-0.18,1.6,1.86,-4.28,-4.55,-0.66,-2.44,-2.56,-4.13,0.72,9.54,9.69,9.39,8.63,7.77,7.71,8.13,8.14,7.75,7.54,8.37,8.99,8.72,8.13,7.96,7.19,6.48,5.86,5.31,5.07,5.92,6.49,7.45,8.3,7.79,7.55,8.12,7.21,4.79,5.74,2.07,2,1.88,2.2,2.81,5.38,4.52,1.28,1.59,1.59,1.5,-0.2,-1.1,-0.17,-0.53,0.2,1.34,2.94,2.64,-3.62,-6.6,-8.85,-10.69,-11.02,-11.29,-11.88,-11.95,-12.42,-12.07,-9.16,-7.2,-5.71,-4.03,-2.12,-1.31,-1.18,-2.4,-1.58,-2.54,-1.9,-4.65,-6.57,-1.61,-1.64,-0.99,-0.25,1.44,3.07,3.55,1.65,-0.55,-1.74,0.63,2.23,-0.13,-1.77,2.74,-1.23,-0.55,1.37,1.44,8.81,8.84,7.54,7.01,6.96,6.97,6.77,6.4,6.06,5.79,6.15,7.01,7.41,7.1,6.06,5.17,5.26,5.01,5.41,5.42,5.89,6.51,7.07,6.08,5.3,6.31,6.97,5.88,5.2,5.2,4.33,9.87,12.7,12.95,10.17,5.53,4.2,3.11,3.89,3.61,4.8,5.99,-1.03,-2.26,-2.42,-1.8,-2.54,-0.29,1.93,-2.08,-3.9,-4.99,-8.02,-9.68,-10.89,-11.2,-11.09,-11.32,-10.66,-8.49,-5.83,-3.23,-3.04,-3.52,-2.44,-1.6,-1.48,-0.81,-1.66,-1.31,0.28,-3.18,-2.34,-0.79,0.7,1.63,1.15,1.07,3.53,3.12,1.84,-0.11,-0.75,1.11,1.67,0.47,3.1,3.73,1.42,-1.03,-1.1,5.1,5.7,6.57,6.46,5.84,5.16,4.53,4.17,4.41,4.14,4.42,4.54,4.9,4.73,4.03,4.26,4.65,4.16,4.8,5.32,5.55,5.06,4.11,3.16,3.65,5.05,5.49,4.55,3.81,4.63,1.09,1.57,3.56,2.39,4.25,4.9],'meta':{'date':'2014-01-31T03:00:00.000Z'}},{'header':{'nx':360,'ny':181,'basicAngle':0,'subDivisions':0,'lo1':0,'la1':90,'lo2':359,'la2':-90},'data':[2.97,2.38,2.23,4,7.76,11.45,13.45,13.57,12.59,11.21,9.88,9.02,8.54,7.9,6.84,5.7,4.84,4.19,3.39,2.35,1.44,1.37,2.45,3.93,4.83,5.01,5.24,6.07,5.47,5.82,4.77,3.8,3.6,3.42,2.76,1.64,0.28,-0.99,-1.98,-2.79,-3.67,-4.62,-5.22,-4.51,-1.98,1.47,3.87,4.83,5.16,4.74,3.09,1.72,2.45,4.44,5.25,-0.31,-0.57,-0.66,-1.13,-2.88,-5.84,-7.67,-7.31,-5.54,-3.74,-4.68,-8.4,-10.22,-9.79,-11,-11.14,-5.81,-0.53,0.72,0.8,2.03,3.07,3.42,3.72,4.12,4.29,3.86,2.94,2.84,3.8,4.11,3.58,3.1,2.87,2.83,2.98,4.57,3.24,3.51,7.57,12.51,14.09,13,11.98,11.51,10.92,10.05,9.16,8.11,6.67,5.01,3.89,3.78,4.16,4.05,2.94,3.89,4.41,4.45,4.7,4.8,5.47,5.09,3.85,3.37,3.79,4.89,5.83,5.16,3.79,2.85,2.18,1.4,0.46,-0.58,-1.56,-2.14,-2.17,-1.95,-1.01,1.31,3.81,4.26,3.24,2.75,3.14,3.2,1.9,1.21,2.82,5.55,-1.8,-3.34,-4.98,-6.76,-8.32,-7.69,-3.61,0.59,0.83,-2.76,-5.41,-6.09,-6.9,-7.94,-6.96,-3.49,-0.34,1.15,2.08,3.34,4.35,4.91,5.32,5.69,5.86,5.89,5.87,5.76,5.58,5.32,5.04,4.84,4.67,4.4,4.38,4.74,2.81,2.65,4.99,8.96,10.75,9.99,9.56,10.36,11,10.82,10.12,9.27,8.16,6.7,4.83,2.68,1.09,1.03,1.59,2.55,2.66,2.04,2.32,4.44,5.99,5.19,3.88,4.14,5.08,4.21,3.33,2.87,2.44,2.41,2.64,2.61,2.07,0.81,-1.05,-1.98,-2.14,-2.47,-2.49,-1.14,0.98,1.97,1.6,1.63,1.95,2.21,2.58,2.03,-0.08,-1.01,1.85,-3.62,-5.22,-6.6,-8.16,-9.69,-9.86,-8.67,-8.26,-9.23,-9.25,-9.35,-10.22,-8.75,-2.56,2.92,3.57,3.12,3.83,4.64,5.14,5.71,6.31,6.72,6.91,6.96,6.92,6.83,6.78,6.75,6.61,6.39,6.3,5.9,4.85,3.79,3.28,5.07,6.76,7.41,6.93,5.96,5.96,7.79,10.04,11.16,11.38,10.92,9.48,7.54,5.98,4.59,3.72,4.12,5.09,3.36,1.58,2.35,4.04,4.94,4.69,3.76,3.55,4.08,4.33,3.96,3.08,2.71,2.19,1.59,1.59,1.53,0.94,0.33,0.01,0.26,0.34,-0.85,-2.78,-3.19,-1.08,1.43,2.03,2.15,3.19,3.65,3.05,2,1.19,-0.65,-2,0.5,-1.56,-2.18,-2.89,-3.82,-4.18,-4.86,-6.03,-6.59,-7.19,-7.87,-7.08,-3.53,0.63,2.55,3.71,5.33,6.04,6.05,6.35,6.65,6.72,6.99,7.54,7.99,8.16,8.21,8.16,8.03,7.89,7.69,7.66,7.85,7.37,5.86,4.18,3.73,3.75,5.36,5.73,4.62,4.15,6.39,10.26,12.35,12.23,12.01,11.53,9.92,8.21,6.75,4.76,4.41,4.88,3.67,2.11,2.58,3.83,3.92,3.41,3.22,3.32,3.65,3.58,2.99,2.67,2.29,0.89,-0.16,-0.01,0.28,0.52,0.9,0.87,0.73,0.36,-0.25,-0.88,-1.95,-2.32,-1.12,0.36,1.29,2.15,2.61,2.25,1.69,1.38,0.6,-0.63,-0.7,1.51,-2.06,-5.13,-6.62,-3.38,1.74,3.29,2.34,1.98,2.33,2.44,2.72,2.86,2.13,1.21,1.77,3.34,4.62,5.75,6.57,6.95,7.87,8.74,8.85,9.09,9.24,9.06,8.8,8.51,8.22,7.98,7.98,8.46,8.75,7.64,5.32,3.45,1.58,2.94,5.36,6.84,7.88,9.32,10.19,9.81,10,11.7,12.26,9.48,4.88,1.86,1.78,2.18,2.55,3.47,3.98,2.57,2.01,1.45,1.46,2.66,3.38,3.07,2.94,2.95,2.77,2.22,1.54,1.59,1.64,1.64,1.29,0.49,-0.3,-0.82,-1.1,-0.79,-0.2,0.01,0.13,0.43,0.9,1.3,1.49,1.54,1.54,1.26,0.71,0.23,0.05,0.22,1.13,0.62,0.56,1.2,2.59,2.93,2.92,2,0.64,-0.82,-2.01,-2.52,-2.48,-1.72,-0.45,0.3,1.44,1.28,1.04,5.04,8.91,8.26,8.84,10.28,9.6,8.86,9.08,8.97,8.7,8.36,8.01,7.8,7.86,8.41,8.4,6.54,3.43,7.35,7.91,8.97,9.36,9.1,8.63,7.34,5.7,6.14,9.2,12.09,9.85,3.06,0.84,2.32,3.04,2.54,2.05,1.6,1.46,1.66,2.17,5.32,7.74,7.54,5.19,3.08,3.34,3.19,2.99,2.73,2.19,1.78,1.73,1.56,1.84,2.31,2.38,1.96,1.08,0.9,1.31,1.46,1.61,2.06,2.02,1.73,1.36,0.81,0.66,0.64,0.11,-0.41,-0.41,0.54,-0.08,0.96,1.41,1.31,0.85,0.36,0,-0.42,-1.1,-1.89,-2.83,-3.95,-4.19,-2.61,-1.02,-0.07,0.82,0.74,0.34,1.89,2.73,3.48,8,10.93,10.56,10.27,9.51,9.49,8.96,7.91,8.14,8.89,9.84,9.91,9.13,8.02,11.13,10,9.22,8.73,7.99,7.05,5.71,4.05,4.24,6.89,5.88,2.34,1.14,2.19,3.42,2.5,2.14,2.07,1.89,2.01,2.4,5.11,7.68,7.21,3.81,2.89,3.3,3.54,3.33,3.17,3.31,3.58,2.71,1.9,2.03,2.34,2.15,1.95,1.16,0.58,0.69,0.62,0.9,1.22,1.03,0.78,0.73,0.19,0.04,0.1,-0.47,-0.64,-0.64,-0.89,-0.64,0.54,-0.05,-1.12,-1.36,-0.95,-0.8,-0.74,-0.85,-1.1,-1.34,-1.77,-2.34,-2.87,-3.4,-2.82,-2.59,-1.47,0.17,-0.49,-0.74,4.03,12.41,15.73,13.98,12.98,12.82,12.5,12.02,11.06,9.61,8.75,8.48,9.36,10.54,11.3,11.68,15.11,13.14,10.92,9.3,7.35,5.01,3.25,2.28,2.67,3.12,3.9,4.42,3.31,3.55,3.53,2.74,2.1,1.79,3.15,8.37,9.09,5.93,3.32,2.95,3.25,3.31,3.56,3.79,3.48,3.02,3.02,2.75,2.5,2.4,2.26,2.3,2.16,1.64,1.45,1.19,0.84,0.92,0.43,0.03,0.13,0.2,-0.13,-0.31,-0.25,-0.44,-0.6,-0.59,-0.55,-0.49,-0.01,-2.48,-3.29,-3.14,-1.42,-0.18,-0.6,-0.94,-0.65,-0.59,-0.9,-1.22,-1.46,-1.59,-1.64,-1.91,-2.48,-2.59,-2.24,-1.73,-1.91,-3.49,0.03,10.91,15.83,14.46,13.88,13.73,13.37,12.65,12.39,13.11,12.9,12.33,12.02,12.82,14.72,14.56,13.9,12.69,10.91,7.78,3.86,2.52,3.19,3.73,2.87,2.87,2.84,1.72,1.21,1.3,1.48,1.04,3.02,9.58,10.5,10.32,8.17,3.33,3.28,2.98,3.05,3.79,3.26,3.84,4.47,3.15,3.17,3.27,3.03,2.31,3.02,2.36,1.61,1,0.62,0.87,0.27,-0.02,0.57,0.4,-0.43,-0.9,-0.94,-0.62,-0.1,0.06,-0.41,-0.2,0.42,0.78,-4.94,-4.47,-4.12,-3.41,-2.57,-2.14,-1.67,-1.53,-1.77,-1.89,-1.85,-1.69,-1.26,-0.73,-0.47,-0.57,-0.88,-1.69,-2.95,-3.48,-5.56,-8.61,-0.97,12,15.73,14.85,14.04,14.19,13.95,13.05,13.75,13.62,13.3,13.12,13.23,14.07,13.52,13.69,13.63,12.1,7.89,1.96,0.6,1.59,0.93,-0.36,-0.41,-0.33,-0.2,0.1,0.3,0.81,1.8,3.51,8.66,10.82,12.09,9.63,2.54,3.25,3.61,3.46,3.89,3.91,4.01,3.21,4.41,8.35,7.98,3.67,2.49,2.24,2.06,0.77,0.53,0.67,0.41,0.04,0.03,-0.28,-0.57,-0.72,-0.91,-0.64,-0.43,-0.3,-0.37,-0.19,0.38,0.7,1.18,-3.64,-4.47,-6.27,-7.24,-5.57,-2.78,-2.09,-2.81,-3.29,-3.24,-2.97,-2.49,-1.75,-0.98,-0.38,0.08,0.48,0.62,0.15,-1.11,-3.31,-2.87,4,9.95,13.55,17.14,16.46,14.94,14.5,13.89,13.71,13.63,13.28,13.23,13.27,13.22,12.55,12.64,12.72,12.15,9.71,4.06,0.17,-0.09,-0.75,-1.31,-1.66,-0.81,0.02,0.23,1.18,1.89,1.93,1.69,2.82,8.37,11.12,13.01,13.11,10.49,8.66,10.79,12.31,13.11,11.73,7.27,4.98,4.97,4.3,3.02,2.61,1.83,1.45,1.76,1.09,0.56,0.2,-0.14,-0.69,-0.79,-0.94,-1.17,-0.95,-0.66,-0.53,-0.39,-0.36,0.41,0.75,1.03,1.07,-5.93,-7.29,-9.05,-10.27,-7.29,-3.85,-4.4,-5.61,-6.48,-7.2,-7.13,-5.69,-3.35,-0.86,1.55,3.66,5.16,5.97,6.22,6.16,6.73,9.36,11.6,10.48,10.76,15.96,17.76,16.36,15.51,14.03,13.23,13.72,13.42,12.9,12.7,12.18,11.16,10.87,10.56,9.92,8.62,5.46,0.93,-0.91,-1.54,-2.35,-1.31,0.81,1.11,3.45,3.17,1.74,1.97,3.77,7.28,9.99,10.38,12.44,12.55,10.64,4.38,4.31,4.18,4.47,4.52,3.93,3.99,3.91,3.73,3.33,2.48,1.87,1.4,0.76,0.17,-0.03,-0.29,-0.64,-0.87,-1.25,-1.32,-1.62,-1.58,-1.23,-1.06,-0.79,-0.12,0.48,0.73,0.59,0.27,-8.66,-9.44,-9.92,-10.66,-8.9,-8.13,-10.21,-12.57,-14.8,-13.91,-9.7,-4.55,0.08,3.43,5.43,6.7,7.94,9.3,10.36,10.74,10.5,10.77,12.47,12.62,10.88,14.37,18.13,17.29,16.65,14.37,11.75,12.33,13.17,12.83,12.26,11.55,10.18,9.27,8.63,8.34,7.77,6.68,4.13,0.87,0.23,1.92,3.23,3.19,1.53,2.22,2.62,2.27,2.75,8.53,8.99,10.39,11.39,11.54,11.44,14.65,13.76,4.44,4.04,4.9,5.43,3.62,3.78,3.79,3.23,3.07,2.59,1.91,1.43,0.86,0.49,-0.17,-1.08,-1.31,-1.62,-1.85,-1.45,-1.48,-1.48,-1.11,-0.75,-0.4,-0.42,-0.29,-0.24,-0.43,-0.09,-8.62,-10.17,-11.1,-11.75,-11.75,-13.39,-14.68,-18.43,-20.35,-9.43,0.48,6.46,9.54,10.68,11.34,11.94,12.36,12.5,12.62,12.67,12.7,12.96,13.77,13.82,11.65,13.11,17.73,17.67,17.41,13.66,9.01,4.29,6.11,11.53,11.28,10.87,8.61,7.98,7.18,6.41,5.78,5.1,4.42,4.23,4.11,2.95,2.37,6.06,3.9,1.55,1.47,1.2,1.83,7.02,9.13,10.78,11.64,8.72,3.15,6.18,7.14,5.11,5.73,4.98,4.59,4.27,4.54,4.29,4.1,3.43,2.67,1.98,1.5,0.85,0.26,-0.44,-1.16,-2.19,-2.33,-2.12,-2.22,-1.75,-1.61,-1.19,-0.8,-0.68,-0.85,-0.73,-0.41,-0.29,0.27,-8.23,-9.65,-10.84,-11.53,-10.73,-10.54,-10.47,-16.71,-17.73,-1.25,7.06,9.3,14.12,15.69,15.39,14.91,15.41,16.45,16.48,15.7,15.22,15.12,15.32,14.96,13.29,13.17,16.59,17.16,16.34,15.76,6.92,2.29,5.78,5.6,8.8,9.83,7.4,6.51,5.5,4.91,4.43,4.19,3.99,4.01,2.75,0.71,2.16,4.04,2.96,0.78,1.16,4.21,6.27,8.18,9.1,9.84,11.65,9.37,4.25,4.7,4.5,4.59,5.04,5.82,5.54,4.88,5.07,4.56,3.61,3.27,2.6,2.24,1.96,1.05,-0.29,-0.99,-1.17,-1.53,-1.87,-1.84,-1.79,-1.65,-1.31,-0.9,-0.87,-0.88,-1.14,-0.55,0.16,0.65,1.01,-8.63,-9.98,-10.12,-10.64,-9.56,-7.4,-6.03,-5.75,-7.58,-3.97,3.03,7.45,10.03,11.62,12.75,13.54,13.25,12.68,15.08,17.96,17.78,16.72,16.32,15.95,14.9,13.84,15.3,16.25,14.68,14.55,9.94,2.88,2.01,4.78,7.4,7.89,6.21,5.48,5.13,4.61,3.96,3.42,3.54,3.84,3.43,1.21,1.72,1.38,1.65,3.58,3.95,5.27,6.2,6.42,7.3,9.28,8.07,5.84,3.76,5.49,5.38,5.52,4.81,4.66,5.26,4.74,4.17,4.29,4.21,3.67,2.52,2.1,1.8,0.99,-0.09,-1.08,-1.39,-1.55,-1.74,-2.18,-2.33,-2.31,-1.57,-1.64,-1.62,-1.37,-0.29,0.64,1.44,1.78,1.68,-5.6,-6.71,-7.26,-7.45,-7.48,-6.12,-4.48,-3.88,-2.9,-0.96,1.92,4.36,5.41,6.09,7.45,9.16,10.41,11.07,10.37,11.61,16.92,18.91,17.8,17.16,16.03,14.65,14.29,13.79,5.42,5.01,8.75,8.27,1.58,0.71,2.2,5.85,4.04,4.97,4.44,4.2,3.94,3.66,3.62,3.35,2.68,1.01,0.54,0.85,0.91,1.31,3.17,2.36,2.57,3.89,4.35,2.86,3.71,5.7,6.41,6.15,5.23,5.2,5.07,5.07,4.49,3.81,3.41,3.16,3.09,3.04,2.33,1.79,1.77,1.11,-0.07,-1.2,-1.67,-1.87,-1.84,-1.54,-1.79,-1.68,-0.98,-1.81,-1.81,-1.54,-0.01,1.31,1.58,1.44,1.09,-4.69,-6.39,-6.57,-5.64,-4.39,-3.82,-3.51,-2.98,-2.56,-1.93,-0.55,1.04,2.08,2.87,3.87,5.31,6.86,7.91,9.16,9.86,10.87,16.8,19.66,18.32,17.27,16.3,11.68,5.81,5.73,5.67,7.4,9.35,7.22,3.87,1.57,1.6,4.04,5.29,5.97,4.53,3.49,2.27,0.63,0,-0.17,0.16,0.5,0.07,-0.54,-0.25,0.53,1.27,1.57,1.57,2.45,4.02,4.05,3.56,3.97,4.85,4.85,4.32,4.08,3.69,3.51,3.36,3.05,2.63,2.46,2.42,1.6,1.34,1.22,0.97,0.1,-1.1,-1.87,-2.14,-2.09,-2.33,-2.18,-1.59,-1.84,-1.4,-0.67,0.27,1.38,2.03,1.15,0.43,0.01,-6.22,-6.94,-7.94,-8.66,-8.14,-7.04,-5.87,-4.71,-3.7,-2.93,-1.93,-0.82,0.29,1.35,2.55,3.82,5.03,5.94,7.32,9.31,11.16,13.72,18.16,19.44,18.2,16.55,13.42,6.11,5.19,4.74,6.84,8.71,2.7,2.57,2.69,2.98,3.11,3.71,6.32,4.24,2.19,0.98,0.94,0.22,0.03,0.46,0.64,0.58,-0.53,-0.13,0.59,0.99,1.3,1.84,1.8,2.97,3.7,4.12,4.31,5.12,4.97,4.25,3.71,3.4,3.1,3.07,2.77,2.55,2.32,2.2,1.56,0.59,0.35,0.19,0.03,-0.9,-1.61,-2.23,-2.64,-3.01,-2.44,-1.96,-1.75,-1.01,-0.05,0.98,0.72,0.09,-0.23,-0.21,-0.45,-7.04,-8.47,-8.2,-9.18,-8.75,-7.09,-5.55,-4.62,-3.84,-2.35,-0.65,0.69,1.66,2.16,2.58,3.21,3.83,4.89,6.64,8.87,11.34,12.06,15.31,18.38,17.68,16.53,8.31,4.22,6.72,10.54,9.53,6.13,2.5,2.28,2.77,3.24,1.43,4.43,4.11,2.52,1.02,-0.07,0.94,1.77,0.67,-0.07,0.31,-0.02,0.19,3.22,5.12,5.96,3.67,1.71,2.24,3.23,5.17,3.53,3.58,3.92,3.72,4.66,5.34,5.01,4.52,3.68,2.83,2.02,2.22,1.55,0.89,0.31,-0.14,-0.72,-1.04,-1.23,-1.33,-1.39,-2.17,-2.73,-2.51,-1.85,-1.83,-1.38,-1.13,-0.88,-0.96,-0.64,-0.15,-0.16,-0.46,-5.21,-6.42,-5.21,-3.23,-2.18,-1.05,-0.7,-0.6,-0.31,-0.27,-0.49,-0.21,0.18,0.74,1.71,2.58,3.45,4.96,6.49,8.94,9.82,9.19,11.91,16.38,16.69,15.27,12.3,7.75,6.25,9.86,9.4,7.21,2.87,1.51,0.44,0.48,5.64,4.43,2.41,2.44,1.79,0.98,0.22,-0.12,-0.38,0.27,0.53,1.09,0.82,-0.73,2.07,5.41,9.12,7.2,4.13,2.29,1.17,0.85,0.53,2.6,4.78,6.03,6.43,4.44,3.54,2.98,1.96,1.44,1,0.6,-0.04,-0.39,-0.67,-1.13,-1.34,-1.74,-1.31,-1.54,-1.9,-2.42,-2.32,-2.16,-1.56,-1.85,-2.01,-1.49,-1.16,-0.94,-0.63,-0.4,-0.87,-7.37,-6.55,-5.43,-3.64,-2.1,-0.85,-0.02,0.38,0.1,-0.56,-0.29,0.32,0.68,1.24,1.52,3.3,6.14,7.31,7.86,7.88,7.74,7.5,9.98,14,15.18,13.81,11.2,7.32,3.5,6.65,8.28,5.78,3.55,2.11,3.1,5.14,2.69,2.31,1.87,1.74,1.14,0.99,0.19,-0.2,-0.43,0.06,1.61,1.52,0.5,0.58,4.12,6.93,5.85,6.39,3.04,2.47,2.66,2.59,2.2,0.98,3.19,4.8,5.43,4.03,2.85,2.4,1.97,1.14,1,0.68,-0.63,-1.37,-1.97,-1.69,-1.61,-1.24,-1.48,-1.64,-1.69,-1.93,-1.88,-2.59,-2.6,-2.78,-2.74,-2.65,-2.34,-2.04,-2.01,-2.05,-1.69,-5.13,-5.16,-4.43,-3.27,-1.67,-0.34,-0.13,-0.55,-0.74,0.08,1.09,1.55,2.49,3.83,5.63,6.15,6.11,6.86,6.98,7.14,7.5,8.66,10.44,12.73,14.09,12.2,9.1,5.75,2.08,2.27,6.25,6.33,5.14,4.99,4.92,2.61,1.74,2.04,1.82,0.94,0.29,-0.44,-0.32,1.06,1.08,-0.02,0.1,-0.87,-0.74,1.26,1.71,1.58,4.35,4.65,2.94,0.5,-0.41,-1.75,1.47,1.97,0.18,2.67,3.39,2.42,1.11,0.39,-0.44,-0.59,-1.84,-2.79,-3.11,-3,-2.71,-2.12,-2.24,-3,-2.56,-2.29,-1.92,-1.27,-1.77,-2.42,-2.35,-2.93,-3.23,-3.47,-3.37,-3.23,-3.42,-3.42,-3.01,-4.73,-4.25,-3.35,-2.15,-1.4,-1.53,-1.33,-0.53,0.25,0.83,1.5,3.06,4.76,5.91,6.56,6.82,7.22,7.11,6.94,7.38,8.03,8.53,8.67,9.57,11.74,10.34,7.69,4.72,1.47,-1.33,0.85,4.85,2.48,2.55,2.6,1.68,2.14,2.63,1.81,0.42,-0.28,-0.11,0.31,-0.39,0.81,2.61,2.02,2.99,3.06,2.21,1.72,1.25,0.64,1.55,1.49,2.09,2.48,1.35,1.41,4.24,2.36,-0.58,2.1,1.37,-0.15,-1.2,-2.63,-3.07,-3.61,-3.93,-4.72,-5.29,-4.57,-5.04,-4.75,-3.42,-2.8,-1.76,-1.36,-0.85,-1.55,-2.65,-2.77,-3.1,-3.3,-3.59,-4.15,-4.27,-4.23,-3.89,-2.93,-5.71,-4.95,-3.99,-3.42,-3.03,-2.24,-1.45,-0.85,0.28,1.57,2.82,4.71,6.01,6.4,6.09,6.21,6.55,6.98,7.51,7.8,7.5,6.94,5.77,5.83,8.98,7.93,5.39,3.03,0.13,-2.59,-3.79,-0.2,5.59,5.51,2.59,1.29,2.3,2.34,1.64,0.55,-1.39,-1.24,-0.68,1.7,-0.17,-2.43,-1.1,-1.6,-3.67,-3.09,-2.13,-1.11,-1.74,0.04,1.05,3.07,5.56,3.77,1.53,0.49,1.95,2.12,0.04,-0.51,-3.03,-5.24,-5.88,-5.11,-6.83,-8.84,-6.85,-5.84,-4.78,-3.84,-4.13,-4.4,-3.28,-2.03,-0.64,0.25,-1.21,-2.56,-2.64,-3.19,-3.99,-4.8,-4.37,-3.76,-3.64,-3.48,-3.57,-6.03,-5.81,-5.31,-4.45,-3.49,-2.48,-0.9,0.42,0.89,1.82,3.48,3.77,3.77,4.73,6.22,7.27,7.5,7.49,7.56,7.09,5.95,4.14,2.76,3.07,6.91,6.16,3.89,1.67,-0.9,-3.07,-4.13,-4.79,0.14,5.07,3.68,2.42,1.54,1.04,0.65,-0.96,-2.56,-2.53,-0.47,-0.33,0.2,0.12,-0.06,-2.1,0.85,15.95,10.46,2.63,0.19,0.69,0.57,2.38,6.26,6.32,3.29,0.83,-0.11,0.16,-0.73,-4.17,-3.48,-6.41,-5.77,-5.84,-7.25,-7.34,-2.03,-6.25,-7.97,-6.44,-2.46,-2.87,-3.03,0.17,2.13,2.52,-0.86,-2.18,-3.77,-5.17,-6.21,-6.32,-5.29,-3.18,-2.41,-3.63,-2.93,-7.09,-6.49,-5.61,-4.66,-3.03,-1.3,-0.14,0.64,0.66,0.44,1.6,4.03,6.19,7.38,7.65,7.25,7.2,7.12,6.74,5.45,2.85,0.88,1.01,1.45,4.79,4.62,2.5,0.44,-1.54,-2.99,-3.93,-4.13,-5.31,-0.3,4.86,2.31,-0.49,-0.35,0.47,-1.78,-2.33,-2.7,-1.56,-2.24,-6.08,-9.26,-1.98,-0.46,1.23,8.74,13.48,10.73,5.03,4.13,3.57,3.51,3.58,2.45,-1.02,-2.03,-0.58,-1.64,-2.19,-1.62,-3.17,-8.16,-6.64,-8.4,-7.84,-4.58,-6.11,-11.21,-8.08,-1.86,-4.58,-3.59,1.46,-0.3,0.14,2.31,-0.66,-2.79,-4.87,-4.19,-5.28,-6.05,-6.59,-7.39,-5.67,-4.91,-4.78,-7.71,-6.69,-5.23,-3.28,-1.46,-0.43,-1.76,-2.47,0.83,5.02,7.1,7.52,7.23,6.78,6.59,6.49,6.27,6.04,4.75,2.2,0.01,-0.34,0.54,0.95,3.36,3.23,1.09,-0.57,-1.1,-2.52,-4.12,-4.43,-6,-7.19,-1.98,2.32,1.33,1.72,0.91,-4.11,-7,-7.36,-4.9,1.6,3.28,-1.88,5.77,3.02,2.86,2.77,8.64,12.2,14.65,9.94,0.82,2.64,2.59,0.46,-0.4,-1.72,-1.12,-0.33,-0.11,-1.6,-6.69,-8,-6.34,-7.31,-6.56,-3.13,-4.44,-8.09,-7.01,-3.98,-1.3,-0.62,-0.3,-0.11,1.87,3.99,-0.59,-0.35,-0.25,0.01,-5.44,-6.91,-7.4,-7.67,-5.92,-6.5,-5.47,-7.15,-5.32,-3.21,-2.42,-4.46,-5.38,0.08,5.63,7.45,7.75,7.42,6.86,6.4,6.15,5.85,5.41,4.04,3.15,1.49,0.3,-0.29,-0.53,0.39,1.36,2.28,1.36,-0.24,0.23,0.4,-0.04,-3.15,-3.59,-1.06,-0.5,-0.87,2.64,-1.48,-1.38,-2.23,-1.62,-7.61,-7.35,-6.07,-2.28,3.13,1.76,5.8,3.22,7.24,1.8,5.2,4.93,11.69,15.19,9.47,-0.36,-0.95,2.55,0.59,1.21,1.47,1.1,-1.09,-3.32,-6.33,-5.63,-4.51,-4.33,-2.65,0.07,-1.11,-3.03,-4.78,-4.54,-4.06,-2.13,-1.32,0.81,2.85,-2.22,1.21,2.25,1.68,1.31,-3.09,-9.55,-9.36,-8.4,-5.58,-5.63,-5.17,-5.16,-4.89,-7.43,-7.05,0.62,6.72,7.57,7.38,7.16,6.95,6.65,6.15,5.92,5.68,5.1,4.44,2.49,1.37,0.14,-0.72,-0.72,0.14,0.99,1.45,0.68,-0.42,-1.14,-1.16,-0.35,-1.22,1.26,0.84,-0.01,-0.89,-0.58,0.34,0.73,-4.46,-4.78,3.06,-1.28,-5.39,-5.11,-4.21,-2.72,0.65,0.92,0.06,6.47,10.1,0.65,0.54,6.76,10.3,12.63,4.18,-0.12,0.8,1.23,0.5,1.43,-3.05,-4.62,-2.96,-6.22,-3.96,-2.25,-1.94,-0.41,-0.75,-1.88,-1.13,-0.54,-1.81,-2.02,-0.44,-1.24,-1.82,-1.4,-1.19,-0.62,-0.77,0.87,4.06,-3.1,-7.51,-14.36,-10.5,-8.06,-6.21,-2.94,-10.02,-7.41,2.29,7.8,7.63,7.16,6.8,6.45,6.37,6.16,5.63,5.23,5.05,4.44,3.57,2.41,0.94,-1.11,-1.57,-1.6,-0.71,-0.01,-0.09,-1.15,-1.96,-2.86,-2.86,-3.36,0.13,0.59,0.57,0.46,-2.07,-0.73,0.79,1.13,-0.86,-1.79,-6.59,0.12,0.83,-1.43,-4.87,-6.51,-6.38,-1.92,0.56,0.3,2.75,7.56,9.06,3.47,0.58,13.03,10.29,8.24,-1.15,-0.44,0.44,-1.91,-6.57,-7.39,-5.6,-2.42,-4.23,-0.78,-0.68,-1.78,-1.01,-0.64,0.05,0.3,0.25,0.13,-0.74,-1.04,-1.32,-0.99,-1.63,-1.06,-0.65,-2.48,-1.92,4.56,5.77,-7.75,-17.2,-12.69,-9.95,-8.86,-4.69,4.46,7.27,6.6,6.72,6.85,6.4,6.07,6.06,5.78,4.97,4.02,3.65,2.95,2.06,0.96,-0.26,-1.64,-2.6,-2.3,-1.64,-0.14,-0.71,-1.89,-2.53,-2.83,-2.68,-3.53,-2.94,-1.34,-0.08,-0.44,1.64,1.85,-0.34,-1.57,-2.03,-2.54,-2.8,-5.77,-3.63,-0.96,-1.87,-3.7,-7.22,-8.84,-3.95,-1.09,-4.43,0.42,2.6,6.09,6.76,4.17,9.01,11.25,10.71,3.49,-1.79,-1.53,-3.05,-4.92,-4.57,-3.7,-4.27,-3.56,-1.24,-0.47,-0.46,-0.79,-1.09,-0.19,0.36,1.11,-0.88,-1.71,-1.58,-3.1,-3.4,-2.18,-0.39,-0.4,-1.58,0.11,-2.02,0.62,-9.55,-14.73,-13.7,-12.92,-9.68,-5.09,5.74,6.44,6.6,6.22,6.04,5.77,4.74,4.37,3.73,3.44,3.23,2.29,0.83,-0.45,-1.91,-2.86,-3.51,-3.42,-2.68,-1.4,-1.48,-2.8,-3.21,-2.92,-1.91,-1.83,-2.58,-1.31,1.32,0.96,0.73,0.69,1.63,3.49,0.51,-0.8,-4.26,-5.29,-4.22,-0.35,-2.7,-4.14,-5.12,-7.8,-8.69,-6.32,-3.93,-6.76,8.64,3.03,6.1,6.18,4.37,9.14,9.84,11.69,7.32,-1.55,-0.47,-1.58,-3.52,-5.23,-4.03,-2.37,-1.09,-0.01,-1.01,-1.13,-0.25,-0.85,-0.94,-1.7,-5.28,-3.85,-4.46,-3.75,-2.62,-1.63,-2.87,-1.66,-1.84,-2.82,-2.39,-2.13,-0.44,-8.1,-12.7,-13.93,-13.56,-10.92,-9.24,6.32,5.86,5.33,5,4.64,3.47,1.74,1.37,1.56,2.13,1.29,0.15,-1.06,-2.52,-3.91,-4.59,-4.58,-3.45,-2.85,-2.75,-2.72,-2.7,-2.31,-1.01,0.01,-0.66,-1.88,-2.07,0.75,-0.36,-1.29,0.13,2.17,1.63,0.11,-1.07,-5.57,-6.03,-0.79,3.15,-0.16,0.28,0.25,-1.09,-0.59,-2.03,-2.78,-7.09,1.84,1.35,0.55,2.8,10.1,9.7,10.21,10.97,10.52,6.8,-0.26,-3.1,-3.44,-2.66,-1.95,-1.67,-1.33,-1.39,-0.11,-4.31,-1.88,-2.76,-4.12,-3.62,-2.34,-2.22,-2.27,-2.86,-3.72,-3.79,-2.15,-0.85,-2.36,-1.28,-1.22,0.21,-0.32,-3.65,-4.9,-9.46,-9.7,-9.29,-4.7,4.75,3.75,3.12,2.13,0.97,0.65,1.6,2.27,2.06,1.63,0.03,-1.78,-2.42,-3.42,-5.14,-5.63,-5.15,-4.13,-3.83,-3.4,-3.1,-2.24,-1.01,-0.83,-0.53,-0.97,-2.19,-3.63,-2.29,-4.65,0.61,0.38,-3.38,-3.18,-1.6,-1,-5.42,1.02,0.91,-2.37,-3.65,-3.79,-2.89,-3.82,-2.94,-2.89,-3.76,-12.06,-4.93,6.09,7.31,8.42,9.23,9.54,9.12,10.27,9.38,6.34,1.54,-2.02,0.25,-0.03,0.36,-0.13,-0.05,0.38,0.33,-4.75,1.25,-4.31,-3.72,-4.94,-0.97,-0.75,-1.92,-2.39,-4.46,-4.62,-2.74,-2.62,-1.19,0.82,2.25,0.53,1.07,-2.36,-5.09,-4.23,-3.1,-3.87,-2.75,2.12,0.5,-0.08,0.39,1.56,1.78,1.27,0.73,0.13,-0.55,-2.19,-3.84,-4.18,-5.16,-6.16,-5.99,-5.65,-4.32,-3.27,-3.76,-3.47,-1.58,-1.24,-1.38,-1.73,-3.21,-4.98,-5.88,-6.13,-5.83,-2.98,-0.22,-3.06,-3.06,-1.32,0.2,0.26,-1.89,-2.43,-2.91,-6.84,-9.76,-6.55,-7.8,-5.17,-4.2,-6.85,-11.24,-1.41,6.11,8.53,10.41,11.93,11.91,10.89,9.25,7.56,6.05,4.21,2.89,0.9,0.5,0.39,0.03,-0.01,-0.81,-0.72,-1.63,-2.37,-1.34,-3.06,-0.73,0.2,0.06,-1.1,-2.74,-3.6,-4.07,-3.41,-3,-2.76,-0.36,-0.14,0.68,1.19,-0.63,-1.98,-1.15,0.26,-2.23,-3.53,0.27,1.55,1.95,1.43,0.6,0.57,0.05,-1.57,-2.9,-3.29,-3.76,-3.74,-4.88,-6.47,-6.69,-6.4,-5.22,-3.5,-3.82,-3.54,-2.53,-2.32,-2.73,-3.45,-4.7,-5.63,-6,-5.85,-5.78,-5.78,-1.34,0.86,1.82,2.72,2.3,-0.82],'meta':{'date':'2014-01-31T03:00:00.000Z'}}]};

  var width = 100,
    height = 800,
    centered,
    wind_flag = false,
    farm_data;

  var projection = d3.geoMercator();
  var path = d3.geoPath()
    .projection(projection);

  var svg = d3.select('#mapView').append('svg')
    .attr('id', 'foo')
    .attr('width', width+'%')
    .attr('height', height);
  svg.append('rect')
    .style('fill', 'none')
    .style('pointer-events', 'all')
    .attr('width', width+'%')
    .attr('height', height)
    .on('click', clicked);
  var g = svg.append('g');

  d3.json('https://yimingf.github.io/windmind-2017/data/world.json', function (error, data) {
    var tooltip = d3.select('body').append('div')
      .attr('class', 'hidden tooltip');
    countries = data.features;
    //countries = topojson.feature(topo, topo.objects.europe)
      // .features;

    var zoom = d3.zoom()
      .scaleExtent([1, 10])
      .on('zoom', zoomed);

    projection
      .scale(850)
      .center([0.0, 60.00]);
    g.append('g')
      .attr('id', 'countries')
      .selectAll('path')
      .data(countries).enter()
      .append('path')
      .attr('class', 'feature')
      .attr('d', path)
      .on('click', clicked)
      .call(zoom);

    // var mesh = topojson.mesh(topo, topo.objects.europe, (a, b) => (a != b));
    // g.append('path')
    //   .datum(mesh)
    //   .attr('class', 'mesh')
    //   .attr('fill', 'red')
    //   .attr('d', path);

    var button = g.append('rect')
      .attr('x', width*0.98)
      .attr('y', width*0.98)
      .attr('height', height*0.01)
      .attr('width', height*0.01)
      .style('fill', 'blue')
      .attr('class', 'button')
      .on('click', function() {
        if (wind_flag) {
          g.selectAll('line')
            .style('stroke', 'blue');
        } else {
          g.selectAll('line')
            .style('stroke', 'none');
        }
        wind_flag = !wind_flag;
      });

    function zoomed() {
      g.attr('transform', 'translate(' + d3.event.transform.x + ',' + d3.event.transform.y + ')scale(' + d3.event.transform.k + ')');
    }

    d3.json('https://yimingf.github.io/windmind-2017/data/farms.json', function (error, data) {
      farm_data = data;
      var len = 30;

      g.selectAll('image')
        .data(data.objects).enter()
        .append('image')
        .attr('xlink:href', './lib/assets/img/wind-windy.gif')
        .attr('x', function (d) {
          return (projection(d.location)[0]-len/2);
        })
        .attr('y', function (d) {
          return (projection(d.location)[1]-len);
        })
        .attr('height', len + 'px')
        .attr('width', len + 'px')
        .on('mousemove', function (d) {
          var mouse = d3.mouse(svg.node()).map(function (d) {
            return parseInt(d);
          });
          tooltip.classed('hidden', false)
            .attr('style', 'left:' + (mouse[0] + 15) +
              'px; top:' + (mouse[1] - 35) + 'px')
            .html(function () {
              return 'name: ' + d.name +'<br>owner: ' + d.owner + ("<img src=\ " + d.countryImage + "\" />") +  '<br>Numberplate capacity: ' + d.capacity + '<br>Number of turbines: ' + d.turbines + '<br>Turbine capacity: ' + d.turbineCapacity + '<br>Status: ' + d.status;
            });
        })
        .on('mouseout', function () {
          tooltip.classed('hidden', true);
        })
        .on('click', function () {
          console.log('caonima');
        });
    });

    let lo = (_, i) => i%91;
    let la = (_, i) => Math.floor(i/91);
    let index_to_longitude = d3.scaleLinear() // european fit
      .domain([0, 90]) // 91 longitudes
      .range([-36, 54]); // the longitude range
      // 
    let index_to_latitude = d3.scaleLinear()
      .domain([0, 36]) // 37 latitudes
      .range([71, 35]); // the latitude range

    var c = wind_data.objects[0].data
      .map((_, i) => [_, wind_data.objects[1].data[i]]);
    var position = [
      wind_data.objects[0].data
        .map(lo)
        .map(index_to_longitude),
      wind_data.objects[1].data
        .map(la)
        .map(index_to_latitude)
      ];//, wind_data.objects[1].data.map(index_to_latitude(la))];

    position = position[0].map((_, i) => [_, position[1][i]]);
    position = position.map((_, __) => projection(_));

    new_positiion = c.map((_, __) => [
      _[0]+position[__][0],
      _[1]+position[__][1]
    ]);

    var lines = g.selectAll('line')
      .data(c).enter()
      .append('line');
    d3.interval(function () {
      lines.call(function animate (selection) {
        selection
          .attr('x1', (_, i) => position[i][0])
          .attr('x2', (_, i) => position[i][0])
          .attr('y1', (_, i) => position[i][1])
          .attr('y2', (_, i) => position[i][1])
          .style('opacity', 1)
          //.style('stroke', 'blue')
          .style('stroke-width', '1.5') // initial width
          .transition()
            .ease(d3.easeLinear)
            .duration(1000)
            .attr('x2', (_, i) => new_positiion[i][0])
            .attr('y2', (_, i) => new_positiion[i][1])
            .style('stroke-width', '0.5') // 1st transformed width
          .transition()
            .ease(d3.easeLinear)
            .duration(1000)
            .attr('x1', (_, i) => new_positiion[i][0])
            .attr('y1', (_, i) => new_positiion[i][1]) // 2nd transformed width
      });
    }, 2200);
  });
})();